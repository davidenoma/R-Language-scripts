means
}
pollutant_mean <- function(directory, pollutant, id = 1:332){
combine_pol_data = NULL
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
#if(pollutant == "sulfate"){
means[i] <- pol_data
# }else{
#   means[i] <- mean(pol_data$nitrate, na.rm = TRUE)
# }
}
means = mean(combine_pol_data, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:332){
combine_pol_data = NULL
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
#if(pollutant == "sulfate"){
means[i] <- pol_data
# }else{
#   means[i] <- mean(pol_data$nitrate, na.rm = TRUE)
# }
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:332){
combine_pol_data = NULL
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:10){
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
View(above)
pollutant_mean <- function(directory, pollutant, id = 1:10){
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:10){
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
print(length(pol_data))
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:10){
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
print(num)
pol_data = read.csv(paste(directory,"/",     num,".csv",sep = ""))
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:10){
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
print(num)
pol_data = read.csv(paste(directory,"/",     num,".csv",sep = ""))
print(pol_data)
combine_pol_data = rbind(pol_data)
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean <- function(directory, pollutant, id = 1:10){
combine_pol_data <- c()
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
print(num)
pol_data = read.csv(paste(directory,"/",     num,".csv",sep = ""))
important_data = pol_data[pollutant]
# print(pol_data)
# combine_pol_data = rbind(pol_data)
combine_pol_data <- c(combine_pol_data,important_data[!is.na(important_data)])
}
means = mean(combine_pol_data$sulfate, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollution_data = read.csv("C:/Users/kora/Downloads/programs/specdata")
pollutant_mean <- function(directory, pollutant, id = 1:10){
combine_pol_data <- c()
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
print(num)
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data = pol_data[pollutant]
# print(pol_data)
# combine_pol_data = rbind(pol_data)
combine_pol_data <- c(combine_pol_data,important_data[!is.na(important_data)])
}
means = mean(combine_pol_data, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollution_data = read.csv("C:/Users/kora/Downloads/programs/specdata/001.csv")
pollution_data[1,]
pollution_data[(!is.na(pollution_data$sulfate)),]
complete <- function(directory, id = 1:332){
result = data.frame(id = numeric(0), nobs = numeric(0))
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data <- pol_data[(!is.na(pol_data$sulfate)), ]
important_data <- important_data[(!is.na(important_data$nitrate)), ]
nobs <- nrow(important_data)
results <- rbind(results, data.frame(id=i, nobs=nobs))
}
}
pollution_data[(!is.na(pollution_data$sulfate)),]
complete("C:/Users/kora/Downloads/programs/specdata",1)
complete <- function(directory, id = 1:332){
results = data.frame(id = numeric(0), nobs = numeric(0))
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data <- pol_data[(!is.na(pol_data$sulfate)), ]
important_data <- important_data[(!is.na(important_data$nitrate)), ]
nobs <- nrow(important_data)
results <- rbind(results, data.frame(id=i, nobs=nobs))
}
}
complete("C:/Users/kora/Downloads/programs/specdata",1)
complete <- function(directory, id = 1:332){
results = data.frame(id = numeric(0), nobs = numeric(0))
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data <- pol_data[(!is.na(pol_data$sulfate)), ]
important_data <- important_data[(!is.na(important_data$nitrate)), ]
nobs <- nrow(important_data)
results <- rbind(results, data.frame(id=i, nobs=nobs))
}
results
}
complete <- function(directory, id = 1:332){
results = data.frame(id = numeric(0), nobs = numeric(0))
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data <- pol_data[(!is.na(pol_data$sulfate)), ]
important_data <- important_data[(!is.na(important_data$nitrate)), ]
nobs <- nrow(important_data)
results <- rbind(results, data.frame(id=i, nobs=nobs))
}
results
}
complete("C:/Users/kora/Downloads/programs/specdata",1)
corr <- function(directory, threshold=0){
all <- complete(directory)
if (sum(which(all$nobs>threshold))==0){
NULL
}
else {
thresh_index <- as.numeric(all[which(all$nobs>threshold),]$id)
names <- list.files(directory)[thresh_index]
read <- lapply(paste(directory,"/",names, sep = ""),read.csv)
return(unlist(lapply(read, function(x){cor(x[,2],x[,3],use="pairwise.complete.obs")})))
}
}
cr <- corr("specdata", 150)
head(cr)
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
complete()
cr <- corr(""C:/Users/kora/Downloads/programs/specdata"", 150)
cr <- corr(C:/Users/kora/Downloads/programs/specdata", 150)
cr <- corr("C:/Users/kora/Downloads/programs/specdata", 150)
head(cr)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",1:10)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",70:72)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","nitrate",70:72)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","sulfate",34)
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","nitrate")
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","nitrate")
pollution_data = read.csv("C:/Users/kora/Downloads/programs/specdata")
pollutant_mean <- function(directory, pollutant, id = 1:332){
combine_pol_data <- c()
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
print(num)
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data = pol_data[pollutant]
# print(pol_data)
# combine_pol_data = rbind(pol_data)
combine_pol_data <- c(combine_pol_data,important_data[!is.na(important_data)])
}
means = mean(combine_pol_data, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","nitrate")
pollutant_mean <- function(directory, pollutant, id = 1:332){
combine_pol_data <- c()
for (i in id){
num = as.character(i)
if (nchar(num) == 1 ){
num = paste("00",num,sep="")
} else if (nchar(num) == 2){
num = paste("0",num,sep="")
}
pol_data = read.csv(paste(directory,"/",num,".csv",sep = ""))
important_data = pol_data[pollutant]
# print(pol_data)
# combine_pol_data = rbind(pol_data)
combine_pol_data <- c(combine_pol_data,important_data[!is.na(important_data)])
}
means = mean(combine_pol_data, na.rm = TRUE)
means
}
pollutant_mean("C:/Users/kora/Downloads/programs/specdata","nitrate")
cc <- complete("C:/Users/kora/Downloads/programs/specdata", c(6, 10, 20, 34, 100, 200, 310))
cc$nobs
cc <- complete("C:/Users/kora/Downloads/programs/specdata", 54)
cc$nobs
RNGversion("3.5.1")
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
RNGversion("3.5.1")
set.seed(42)
cc <- complete("C:/Users/kora/Downloads/programs/specdata", 332:1)
332:1
use <- sample(332, 10)
sample(332,10)
print(cc[use, "nobs"])
cr  = corr("C:/Users/kora/Downloads/programs/specdata")
head(cr)
tail(cr)
length(cr)
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)print(out)
print(out)
x <- list(a=1:5,b=rnorm(10))
x
x$a
x#b
lapply(x, mean)
x#b
x[b]
x
x[[b]]
x['b']
x <- list(a=1:4,b= rnorm(10),c = rnorm(20,1), d = rnorm(100,5))
x
runif(1)
runif(1)
runif(1)
runif(1)
runif(4)
runif(5)
lapply(x, runif)
x <- list(a= matrix(1:4,2,2) , b=matrix(1:6,3,2))
x
lapply(x,function(elt) elt[,1])
x['a']
sapply(x,mean)
typeof(sapply(x, mean))
str(apply)
x <- matrix(rnorm(200),20,10)
x
apply(x,2,mean)
apply(x, 1, sum)
x
apply(x,1,quantile,probs = c(0.25,0.75))
a <- array(rnorm(2*2*10),c(2,2,10))
a
typeof(a)
a[1]
a[2]
a[3]
a[10]
a[50]
a[40]
a[41]
a[40]
typeof(a)
a
apply(a,c(1,2),mean)
rowMeans(a,dims = 2)
x <- c(rnorm(10), runif(10),rnorm(10,1))
x
f <- gl()
f <- gl(3,10)
f
tapply(x, f, mean)
tapply(x, f, mean,simplify = FALSE)
tapply(x, f, range)
str(split)
split(x,f)
lapply(split(x,f), mean)
library(datasets)
head(airquality)
s <- split(airquality,airquality$Month)
s
head()
head(s)
head()
head(s)
head(airquality)
nrow(airquality)
lapply(x, function(x) colMeans(x[,c("Ozone","Solar.R","Wind")]))
lapply(s, function(x) colMeans(x[,c("Ozone","Solar.R","Wind")]))
lapply(s, function(x) colMeans(x[,c("Ozone","Solar.R","Wind")],na.rm = T))
x <- rnorm(10)
x
f1 <- gl(2,5)
f1
g2 gl(5,2)
f2 <- gl(5,2)
f1
f2
interaction(f1,f2)
str(split(x,list(f1,f2)))
str(split(x,list(f1,f2),drop=TRUE))
log(-1)
invisible(55)
traceback()
debug()
mean(x)
ls()
rm(ls()["x"])
rm(ls()[14])
traceback()
rm(ls)
rm(ls())
rm("x")
mean(x)
traceback()
lm(y~x)
traceback()
debug(lm)
lm(y~x)
options(error=recover)
read.csv("ultimate")
library(datasets)
data("iris")
head(iris)
ncol(iris)
nrow(iris)
lapply(), function)
gl(1,10)
split(iris, iris$Species)
datas <- split(iris, iris$Species)
datas$setosa
mean(datas$setosa$Sepal.Length)
mean(datas$virginica$Sepal.Length)
colMeans(iris)
options(error="")
options(error=Null)
options(error=NULL)
options(error=Null)
apply(iris,2,mean)
apply(iris,1,mean)
apply(iris[,1:4],1,mean)
apply(iris[,1:4],2,mean)
data("mtcars")
?mtcars
head(mtcars)
head(mtcars,1)
tapply(mtcars$mpg, mtcars$cyl, mean)
mtcars$cyl
tapply(mtcars$cyl, mtcars$mpg, mean)
split(mtcars, mtcars$cyl)
mean(mtcars$mpg, mtcars$cyl)
mtcars$cyl
mtcars$hp
split(iris, iris$Species)
datas <- split(iris, iris$Species)
datas$setosa
mean(datas$setosa$Sepal.Length)
mean(datas$virginica$Sepal.Length)
colMeans(iris)
options(error="")
options(error=N
}
split(mtcars,mtcars$cyl)
split(mtcars$hp,mtcars$cyl)
cars_mt = split(mtcars$hp,mtcars$cyl)
mean(cars_mt$4) - mean(cars_mt$8)
mean(cars_mt$8)
mean("cars_mt$8")
cars_mt$8
cars_mt
cars_mt$'8'
diff(mean(cars_mt$'8'),mean(cars_mt$'4'))
(mean(cars_mt$'8') - mean(cars_mt$'4')
)
debug(ls)
ls()
Q
Q
n
\
Q
Q
Q
Q
